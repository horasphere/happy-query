{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///happy-query.min.js","webpack:///webpack/bootstrap e7bdfce3f98ccc4088aa?ed1a","webpack:///./src/index.js?9552","webpack:///./src/RuleBuilder.js?64c3","webpack:///./src/Evaluator.js?b4f1"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","RuleBuilder","Evaluator","HappyQuery","evaluate","rule","target","filter","data","result","i","length","push","Or","condition","rules","Array","prototype","slice","arguments","And","Always","operator","Operator","field","value","undefined","self","apply","Not","Bool","Equal","GreaterThan","OneOf","IsEmpty","NestedRule","Condition","not","or","and","bool","getValue","gt","oneOf","equal","isEmpty","always","nested","Error"],"mappings":"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","file":"happy-query.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"HappyQuery\"] = factory();\n\telse\n\t\troot[\"HappyQuery\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"HappyQuery\"] = factory();\n\telse\n\t\troot[\"HappyQuery\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar RuleBuilder = __webpack_require__(1)\r\n\tvar Evaluator = __webpack_require__(2);\r\n\t\r\n\tvar HappyQuery = {};\r\n\t\r\n\tHappyQuery.RuleBuilder = RuleBuilder;\r\n\t\r\n\tHappyQuery.evaluate = function(rule, target) {\r\n\t    return Evaluator.evaluate(rule, target);\r\n\t}\r\n\t\r\n\tHappyQuery.filter = function(rule, data) {\r\n\t    var result = [];\r\n\t\r\n\t    for(var i=0; i<data.length; i++)\r\n\t    {\r\n\t        if(HappyQuery.evaluate(rule, data[i]))\r\n\t        {\r\n\t            result.push(data[i])\r\n\t        }\r\n\t    }\r\n\t\r\n\t    return result;\r\n\t}\r\n\t\r\n\tmodule.exports = HappyQuery;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tvar RuleBuilder = {};\r\n\t\r\n\tvar Or = function() {\r\n\t    this.condition = \"or\";\r\n\t    this.rules = Array.prototype.slice.call(arguments);\r\n\t\r\n\t    return this;\r\n\t}\r\n\t\r\n\tvar And = function() {\r\n\t    this.condition = \"and\";\r\n\t    this.rules = Array.prototype.slice.call(arguments);\r\n\t\r\n\t    return this;\r\n\t}\r\n\t\r\n\tvar Always = function() {\r\n\t    this.operator = \"always\"\r\n\t\r\n\t    return this;\r\n\t}\r\n\t\r\n\t\r\n\tvar Operator = function(operator, field, value) {\r\n\t    this.operator = operator;\r\n\t    this.field = field;\r\n\t\r\n\t    if(value !== undefined)\r\n\t        this.value = value;\r\n\t\r\n\t    return this;\r\n\t}\r\n\t\r\n\tRuleBuilder.And = function() {\r\n\t    var self = {};\r\n\t    And.apply(self, arguments);\r\n\t\r\n\t    return self;\r\n\t}\r\n\t\r\n\tRuleBuilder.Or = function() {\r\n\t    var self = {};\r\n\t\r\n\t    Or.apply(self, arguments);\r\n\t\r\n\t    return self;\r\n\t}\r\n\t\r\n\tRuleBuilder.Not = function(rule) {\r\n\t    return {\r\n\t        condition: \"not\",\r\n\t        rule: rule\r\n\t    };\r\n\t}\r\n\t\r\n\tRuleBuilder.Bool = function(field) {\r\n\t    return new Operator('bool', field);\r\n\t}\r\n\t\r\n\tRuleBuilder.Equal = function(field, value) {\r\n\t    return new Operator('equal', field, value);\r\n\t}\r\n\t\r\n\tRuleBuilder.GreaterThan = function(field, value) {\r\n\t    return new Operator('gt', field, value);\r\n\t}\r\n\t\r\n\tRuleBuilder.OneOf = function(field, value) {\r\n\t    return new Operator('oneOf', field, value);\r\n\t}\r\n\t\r\n\tRuleBuilder.IsEmpty = function(field) {\r\n\t    return new Operator('isEmpty', field);\r\n\t}\r\n\t\r\n\tRuleBuilder.Always = function() {\r\n\t    return new Always();\r\n\t}\r\n\t\r\n\tRuleBuilder.NestedRule = function(field, rule) {\r\n\t    return new Operator('nested', field, rule);\r\n\t}\r\n\t\r\n\t\r\n\tmodule.exports = RuleBuilder;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tvar Condition = {\r\n\t    'not': function(rule, target) {\r\n\t        return !evaluate(rule.rule, target);\r\n\t    },\r\n\t    'or': function(rule, target) {\r\n\t        for(var i=0; i < rule.rules.length; i++)\r\n\t        {\r\n\t            if(evaluate(rule.rules[i], target))\r\n\t            {\r\n\t                return true;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        return false;\r\n\t    },\r\n\t    'and': function(rule, target) {\r\n\t        for(var i=0; i < rule.rules.length; i++)\r\n\t        {\r\n\t            if(!evaluate(rule.rules[i], target))\r\n\t            {\r\n\t                return false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        return true;\r\n\t    }\r\n\t}\r\n\t\r\n\tvar Operator = {\r\n\t    'bool': function(rule, target) {\r\n\t        return (getValue(rule.field, target) === true)\r\n\t    },\r\n\t    'gt': function(rule, target) {\r\n\t        return getValue(rule.field, target) > rule.value;\r\n\t    },\r\n\t    'oneOf': function(rule, target) {\r\n\t        var value = getValue(rule.field, target);\r\n\t        for(var i=0; i < rule.value.length; i++) {\r\n\t            if(rule.value[i] === value)\r\n\t                return true;\r\n\t        }\r\n\t\r\n\t        return false;\r\n\t    },\r\n\t    'equal': function(rule, target) {\r\n\t        return getValue(rule.field, target) === rule.value;\r\n\t    },\r\n\t    'isEmpty': function(rule, target) {\r\n\t        return getValue(rule.field, target).length === 0;\r\n\t    },\r\n\t    'always': function(rule, target) {\r\n\t        return true;\r\n\t    },\r\n\t    'nested': function(rule, target) {\r\n\t        return evaluate(rule.value, getValue(rule.field, target));\r\n\t    }\r\n\t\r\n\t}\r\n\t\r\n\tvar getValue = function(field, target) {\r\n\t    var value = target[field];\r\n\t\r\n\t    if(value === undefined)\r\n\t        throw new Error('Field can\\'t be undefined: ' + field);\r\n\t\r\n\t    return value;\r\n\t}\r\n\t\r\n\tvar evaluate = function(rule, target) {\r\n\t    if(rule.condition)\r\n\t        return Condition[rule.condition].call(null, rule, target)\r\n\t\r\n\t    return Operator[rule.operator].call(null, rule, target)\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t    evaluate: evaluate\r\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** happy-query.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e7bdfce3f98ccc4088aa\n **/","var RuleBuilder = require('./RuleBuilder')\r\nvar Evaluator = require('./Evaluator');\r\n\r\nvar HappyQuery = {};\r\n\r\nHappyQuery.RuleBuilder = RuleBuilder;\r\n\r\nHappyQuery.evaluate = function(rule, target) {\r\n    return Evaluator.evaluate(rule, target);\r\n}\r\n\r\nHappyQuery.filter = function(rule, data) {\r\n    var result = [];\r\n\r\n    for(var i=0; i<data.length; i++)\r\n    {\r\n        if(HappyQuery.evaluate(rule, data[i]))\r\n        {\r\n            result.push(data[i])\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nmodule.exports = HappyQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0 1\n **/","var RuleBuilder = {};\r\n\r\nvar Or = function() {\r\n    this.condition = \"or\";\r\n    this.rules = Array.prototype.slice.call(arguments);\r\n\r\n    return this;\r\n}\r\n\r\nvar And = function() {\r\n    this.condition = \"and\";\r\n    this.rules = Array.prototype.slice.call(arguments);\r\n\r\n    return this;\r\n}\r\n\r\nvar Always = function() {\r\n    this.operator = \"always\"\r\n\r\n    return this;\r\n}\r\n\r\n\r\nvar Operator = function(operator, field, value) {\r\n    this.operator = operator;\r\n    this.field = field;\r\n\r\n    if(value !== undefined)\r\n        this.value = value;\r\n\r\n    return this;\r\n}\r\n\r\nRuleBuilder.And = function() {\r\n    var self = {};\r\n    And.apply(self, arguments);\r\n\r\n    return self;\r\n}\r\n\r\nRuleBuilder.Or = function() {\r\n    var self = {};\r\n\r\n    Or.apply(self, arguments);\r\n\r\n    return self;\r\n}\r\n\r\nRuleBuilder.Not = function(rule) {\r\n    return {\r\n        condition: \"not\",\r\n        rule: rule\r\n    };\r\n}\r\n\r\nRuleBuilder.Bool = function(field) {\r\n    return new Operator('bool', field);\r\n}\r\n\r\nRuleBuilder.Equal = function(field, value) {\r\n    return new Operator('equal', field, value);\r\n}\r\n\r\nRuleBuilder.GreaterThan = function(field, value) {\r\n    return new Operator('gt', field, value);\r\n}\r\n\r\nRuleBuilder.OneOf = function(field, value) {\r\n    return new Operator('oneOf', field, value);\r\n}\r\n\r\nRuleBuilder.IsEmpty = function(field) {\r\n    return new Operator('isEmpty', field);\r\n}\r\n\r\nRuleBuilder.Always = function() {\r\n    return new Always();\r\n}\r\n\r\nRuleBuilder.NestedRule = function(field, rule) {\r\n    return new Operator('nested', field, rule);\r\n}\r\n\r\n\r\nmodule.exports = RuleBuilder;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/RuleBuilder.js\n ** module id = 1\n ** module chunks = 0 1\n **/","var Condition = {\r\n    'not': function(rule, target) {\r\n        return !evaluate(rule.rule, target);\r\n    },\r\n    'or': function(rule, target) {\r\n        for(var i=0; i < rule.rules.length; i++)\r\n        {\r\n            if(evaluate(rule.rules[i], target))\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n    'and': function(rule, target) {\r\n        for(var i=0; i < rule.rules.length; i++)\r\n        {\r\n            if(!evaluate(rule.rules[i], target))\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nvar Operator = {\r\n    'bool': function(rule, target) {\r\n        return (getValue(rule.field, target) === true)\r\n    },\r\n    'gt': function(rule, target) {\r\n        return getValue(rule.field, target) > rule.value;\r\n    },\r\n    'oneOf': function(rule, target) {\r\n        var value = getValue(rule.field, target);\r\n        for(var i=0; i < rule.value.length; i++) {\r\n            if(rule.value[i] === value)\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n    'equal': function(rule, target) {\r\n        return getValue(rule.field, target) === rule.value;\r\n    },\r\n    'isEmpty': function(rule, target) {\r\n        return getValue(rule.field, target).length === 0;\r\n    },\r\n    'always': function(rule, target) {\r\n        return true;\r\n    },\r\n    'nested': function(rule, target) {\r\n        return evaluate(rule.value, getValue(rule.field, target));\r\n    }\r\n\r\n}\r\n\r\nvar getValue = function(field, target) {\r\n    var value = target[field];\r\n\r\n    if(value === undefined)\r\n        throw new Error('Field can\\'t be undefined: ' + field);\r\n\r\n    return value;\r\n}\r\n\r\nvar evaluate = function(rule, target) {\r\n    if(rule.condition)\r\n        return Condition[rule.condition].call(null, rule, target)\r\n\r\n    return Operator[rule.operator].call(null, rule, target)\r\n}\r\n\r\nmodule.exports = {\r\n    evaluate: evaluate\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/Evaluator.js\n ** module id = 2\n ** module chunks = 0 1\n **/"],"sourceRoot":""}