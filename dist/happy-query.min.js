!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.HappyQuery=t():n.HappyQuery=t()}(this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var u=e[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){var r=e(1),u=e(2),o={};o.RuleBuilder=r,o.evaluate=function(n,t){return u.evaluate(n,t)},o.filter=function(n,t){for(var e=[],r=0;r<t.length;r++)o.evaluate(n,t[r])&&e.push(t[r]);return e},n.exports=o},function(n,t){var e={},r=function(){return this.condition="or",this.rules=Array.prototype.slice.call(arguments),this},u=function(){return this.condition="and",this.rules=Array.prototype.slice.call(arguments),this},o=function(){return this.operator="always",this},i=function(n,t,e){return this.operator=n,this.field=t,void 0!==e&&(this.value=e),this};e.And=function(){var n={};return u.apply(n,arguments),n},e.Or=function(){var n={};return r.apply(n,arguments),n},e.Not=function(n){return{condition:"not",rule:n}},e.Bool=function(n){return new i("bool",n)},e.Equal=function(n,t){return new i("equal",n,t)},e.GreaterThan=function(n,t){return new i("gt",n,t)},e.OneOf=function(n,t){return new i("oneOf",n,t)},e.IsEmpty=function(n){return new i("isEmpty",n)},e.Always=function(){return new o},e.NestedRule=function(n,t){return new i("nested",n,t)},n.exports=e},function(n,t){var e={not:function(n,t){return!o(n.rule,t)},or:function(n,t){for(var e=0;e<n.rules.length;e++)if(o(n.rules[e],t))return!0;return!1},and:function(n,t){for(var e=0;e<n.rules.length;e++)if(!o(n.rules[e],t))return!1;return!0}},r={bool:function(n,t){return u(n.field,t)===!0},gt:function(n,t){return u(n.field,t)>n.value},oneOf:function(n,t){for(var e=u(n.field,t),r=0;r<n.value.length;r++)if(n.value[r]===e)return!0;return!1},equal:function(n,t){return u(n.field,t)===n.value},isEmpty:function(n,t){return 0===u(n.field,t).length},always:function(n,t){return!0},nested:function(n,t){return o(n.value,u(n.field,t))}},u=function(n,t){var e=t[n];if(void 0===e)throw new Error("Field can't be undefined: "+n);return e},o=function(n,t){return n.condition?e[n.condition].call(null,n,t):r[n.operator].call(null,n,t)};n.exports={evaluate:o}}])});
//# sourceMappingURL=happy-query.min.js.map